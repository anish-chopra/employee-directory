<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="fullContainer">
        <div class="h1Container">
            <h1>AWESOME STARTUP EMPLOYEE DIRECTORY</h1>
        </div>
        <div class="employeeSection" id="employeeSection">
        </div> 
    </div>
<br>
<br>
<br>
    <div class="modalContainer" id="modalContainer">
        
    </div>

    <br>
<br>
<br>

    <script>

        let employeeSection = document.getElementById("employeeSection");
        let selectedEmployee;
        let closeButton;
        let modalContainer = document.getElementById('modalContainer');
        let currentChild;
        // let rightArrow;
        
        

        

        fetch('https://randomuser.me/api/?results=12')
            .then(response => response.json())
            // .then(data => console.log(data.results))
            .then(data => displayEmployees(data.results))

            
        function displayEmployees(data) {
            employeeData = data.map(item =>`
            <div class="employeeContainer">
                <div class="employeeImage">
                    <img class="employeeImage" id="employeeImage" src="${item.picture.large}">
                </div>
                <div class="employeeInfo">
                    <h3 class="employeeName" id="employeeName">${item.name.first} ${item.name.last}</h3>
                    <p class="employeeEmail" id="employeeEmail">${item.email}</p>
                    <p class="employeeLocation" id="employeeLocation">${item.location.city}</p>
                    <p id="phone" style="display: none">${item.phone}</p>
                    <p id="addressNumber" style="display: none">${item.location.street.number}</p>
                    <p id="addressStreet" style="display: none">${item.location.street.name}</p>
                    <p id="addressDtate" style="display: none">${item.location.state}</p>
                    <p id="addressPostal" style="display: none">${item.location.postcode}</p>
                    <p id="dob" style="display: none">${item.dob.date.slice(0, 10)}</p>
                </div>
            </div>
            `).join('');
            employeeSection.innerHTML = employeeData;
            selectedEmployee = document.getElementsByClassName('employeeContainer');
            displayModal();
        }

     

        
        
        function displayModal(event) {
            for (let i = 0; i < selectedEmployee.length; i++) {
                selectedEmployee[i].addEventListener('click', function clickEvent(event) {

                    currentChild = event.currentTarget;
                    let modalImage = event.currentTarget.children[0].children.employeeImage.currentSrc;
                    let modalName = event.currentTarget.children[1].children[0].innerHTML;
                    let modalEmail = event.currentTarget.children[1].children[1].innerHTML;
                    let modalCity = event.currentTarget.children[1].children[2].innerHTML;
                    let modalPhone = event.currentTarget.children[1].children[3].innerHTML;
                    let modalStreetNumber = event.currentTarget.children[1].children[4].innerHTML;
                    let modalStreetName = event.currentTarget.children[1].children[5].innerHTML;
                    let modalProvince = event.currentTarget.children[1].children[6].innerHTML;
                    let modalPostal = event.currentTarget.children[1].children[7].innerHTML;
                    let modalBirthday = event.currentTarget.children[1].children[8].innerHTML;

                    
                 

                    let selectedEmployeeInfo =
                    `
                    <div class="modalContent">
                        <div class="modalCloseContainer">
                    <p id="modalClose" onClick="toggleModal()">X</p>
                    </div>
                    <img class="employeeImage" src="${modalImage}">
                    <h3 class="employeeName">${modalName}</h3>
                    <p class="employeeEmail">${modalEmail}</p>
                    <p class="employeeLocation">${modalCity}</p><br>
                    <div class="arrowContainer">
                    <p id= "leftArrow">&#8592;</p>
                    <p id= "rightArrow">&#8594;</p>
                    </div>
                    <hr><br>
                    <p class="employeeLocation modalMarginBottom">${modalPhone}</p>
                    <p class="employeeLocation modalMarginBottom">${modalStreetNumber} ${modalStreetName} ${modalProvince} ${modalPostal}</p> 
                    <p class="employeeLocation">Birthday: ${modalBirthday}</p>
                    </div>
                    `;
                    
                    
                    
                    modalContainer.innerHTML = selectedEmployeeInfo;
                    modalContainer.classList.toggle("showModal");
                    rightArrow = document.getElementById('rightArrow');

                    function rightArrowClick() {
                        console.log(currentChild.nextSibling.nextElementSibling);
                    }

                    rightArrow.addEventListener('click', rightArrowClick)
                    
                    

                    

                })
            
            }
        }
        function windowOnClick(event) {
    if (event.target === modalContainer) {
        modalContainer.classList.toggle("showModal");
    }
}

function toggleModal() {
    modalContainer.classList.toggle("showModal");
}

function XOnClick(event) {
    if (event.target === closeButton) {
        modalContainer.classList.toggle("showModal");
    }
}

window.addEventListener("click", windowOnClick);




        


        





    </script>
</body>
</html>